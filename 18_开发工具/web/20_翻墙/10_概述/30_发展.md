

# 封锁的方法

## dns劫持污染

原理

    通过域名进行访问网站时，需要先通过DNS服务器把域名解析为IP地址。
    而普通的DNS服务使用UDP协议，没有任何的认证机制。
    
    DNS劫持是指返回给你一个伪造页面的IP地址，DNS污染是返回给你一个不存在的页面的IP地址。
    
    某些网络运营商为了某些目的，对DNS进行了某些操作，无法通过域名取得正确的IP地址。

对策

    依赖客户端
        使用OpenDNS（208.67.222.222）或GoogleDNS（8.8.8.8）
        修改机器host文件，直接IP访问
    好
        使用https
        
        
## 封锁IP

原理

   对IP进行大范围的封锁

对策
   
   不可能把所有国外的IP全部封锁掉，
   所以我们采用从国内连接到国外的VPS，进行翻墙。
   
   
   
   
## 封锁HTTP代理

原理

   使用HTTP代理。
   客户端不在直接请求目标服务器，而是请求代理服务器，代理服务器在去请求目标服务器。然后返回结果。
     
问题

    对于HTTP代理来说，封锁起来非常简单。
    因为HTTP协议是明文，Request Message中就带有要请求的URL或IP地址，这样很容易就被检测到。
    对于HTTPS来说，虽然通信是进行加密了，但是在建连之前会给代理服务器发送CONNECT方法，这里也会带上要访问的远端服务器地址。
    如果代理服务器在国外，在出去前就会被检测到。 如果代理服务器在国内，呵呵，你也出不去啊。
    
    
## 封锁VPN

原理

   虚拟专用网（英语：Virtual Private Network，简称VPN），
   正常网络通信时，所有网络请求都是通过我们的物理网卡直接发送出去。
   而VPN是客户端使用相应的VPN协议先与VPN服务器进行通信，成功连接后就在操作系统内建立一个虚拟网卡，
   一般来说默认PC上所有网络通信都从这虚拟网卡上进出，经过VPN服务器中转之后再到达目的地。    
   它利用已加密的通道协议（Tunneling Protocol）来达到保密、发送端认证、消息准确性等私人消息安全效果。
   
缺点

    提醒大家最好不要随便用不安全的VPN来访问不合适的网页
    VPN服务商   

特征监控
   
   对于VPN和其他一些加密的传输的协议来说，没有办法直接获取明文的请求信息，所以没有办法直接封锁，而是使用了监控的方式
   要想成功翻墙都必须与对应的远程服务器建立连接，然后再用对应的协议进行数据处理并传输。
   而问题就出在这里：翻墙工具和远程服务器建立连接时，如果表现的很独特，在一大堆流量里很显眼，就会轻易被GFW识别出从而直接阻断连接，而VPN（尤其是OPENVPN）和SSH这方面的问题尤其严重。
  
## ssh tunnel
   
   利用境外服务器代理的方法来绕过 GFW 的过滤，其中包含了各种HTTP代理服务、Socks服务、VPN服务… 其中以 ssh tunnel 的方法比较有代表性
   1) 首先用户和境外服务器基于 ssh 建立起一条加密的通道
   2-3) 用户通过建立起的隧道进行代理，通过 ssh server 向真实的服务发起请求
   4-5) 服务通过 ssh server，再通过创建好的隧道返回给用户
   由于 ssh 本身就是基于 RSA 加密技术，
   所以 GFW 无法从数据传输的过程中的加密数据内容进行关键词分析，避免了被重置链接的问题，
   但由于创建隧道和数据传输的过程中，ssh 本身的特征是明显的，


## shadowsocks

   简单理解的话，shadowsocks 是将原来 ssh 创建的 Socks5 协议拆开成 server 端和 client 端，
   1、6) 客户端发出的请求基于 Socks5 协议跟 ss-local 端进行通讯，
        由于这个 ss-local 一般是本机或路由器或局域网的其他机器，不经过 GFW，所以解决了上面被 GFW 通过特征分析进行干扰的问题
   2、5) ss-local 和 ss-server 两端通过多种可选的加密方法进行通讯，
        经过 GFW 的时候是常规的TCP包，没有明显的特征码而且 GFW 也无法对通讯数据进行解密
   3、4) ss-server 将收到的加密数据进行解密，还原原来的请求，再发送到用户需要访问的服务，获取响应原路返回



# 参考
 
http://blog.021xt.cc/archives/85   
